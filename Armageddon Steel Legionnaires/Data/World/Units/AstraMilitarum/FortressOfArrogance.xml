<?xml version="1.0" encoding="utf-8"?>
<unit>
	<model>
		<unit mesh="Units/AstraMilitarum/Baneblade"
				material="Units/AstraMilitarum/Baneblade"
				idleAnimation="Units/AstraMilitarum/BanebladeIdle"
				idleAnimationCount="3"
				scale="1.3 1.3 1.3"
				explosionsBone="Hull"
				uvAnimated="1"/>
	</model>
	<weapons>
 		<weapon name="None" enabled="0">
			<model>
				<weapon bone="Hull"
						mesh="Weapons/AstraMilitarum/BanebladeSideTurrets"
						material="Weapons/AstraMilitarum/BanebladeSideTurrets"/>
			</model>
		</weapon>
		<weapon name="Autocannon">
			<model>
				<projectileWeapon muzzleBone=".AutoCannonMuzzle0"/>
			</model>		
		</weapon>
		<weapon name="BanebladeCannon">
			<model>
				<projectileWeapon muzzleBone=".BanebladeCannonMuzzle0"
						fireInterval="1.0"/>
			</model>
		</weapon>
		<weapon name="DemolisherCannon" slotName="DemolisherCannon" enabled="0">
			<model>
				<projectileWeapon muzzleBone=".DemolisherCannonMuzzle0"
						fireInterval="1.0"/>
			</model>
		</weapon>
		<weapon name="TwinLinkedHeavyBolter">
			<model>
				<projectileWeapon muzzleBone=".HeavyBolterMuzzle"/>
			</model>	
		</weapon>
		<weapon name="TwinLinkedHeavyBolter" count="2"
				requiredUpgrade="AstraMilitarum/AdditionalHeavyBolters">
			<model>
				<projectileWeapon bone="Hull"
						mesh="Weapons/AstraMilitarum/BanebladeTwinLinkedHeavyBolters"
						material="Units/AstraMilitarum/Baneblade"
						muzzleBone=".Muzzle"
						muzzleCount="4"/>
			</model>
		</weapon>
		<weapon name="Lascannon" slotName="Lascannon" count="2" enabled="0"
				requiredUpgrade="AstraMilitarum/BanebladeLascannon">
			<model>
				<beamWeapon bone="Hull"
						mesh="Weapons/AstraMilitarum/BanebladeLascannons"
						material="Weapons/AstraMilitarum/BanebladeLascannons"			
						muzzleBone=".Muzzle"
						muzzleCount="2"
						fireInterval="1.0"
						cycleMuzzles="0"/>
			</model>			
		</weapon>
		<weapon name="HunterKillerMissile" slotName="HunterKillerMissile"
				enabled="0">
			<model>
				<missileWeapon muzzleBone=".AutoCannonMuzzle0"
						fireInterval="5.0"/>
			</model>	
		</weapon>
	</weapons>
	<modifiers>
		<modifier visible="0">
			<effects>
				<armor base="9"/> <!-- %armor base armor=14/13/12 -->
				<hitpointsMax base="144.0"/> <!-- %hitpointsMax base armor=14/13/12 wounds=9 -->
				<oreUpkeep base="16.0"/> <!-- %oreUpkeep base tier=12 factor=1 -->
				<oreCost base="320.0"/> <!-- %oreCost base tier=12 factor=1 -->
				<moraleMax base="12"/> <!-- Baneblade is 10, Lord Commissar is 12 | %moraleMax base leadership=8 -->
				<movementMax base="3"/>
				<productionCost base="72.0"/> <!-- Baneblade is 72. I won't change this since you don't spam hero buildings, and there's a limit anyways | %productionCost base tier=12 factor=1 -->
				<rangedAccuracy base="6"/> <!-- %rangedAccuracy base ballisticSkill=3 -->
				<!-- Making it a hero -->
				<influenceUpkeep base="9.0"/> <!-- Tank Commander is 6 | %influenceUpkeep base tier=8 factor=1.5 -->
				<influenceCost base="210.0"/> <!-- Tank Commander is 120 | %influenceCost base tier=8 factor=1.5 -->
				<itemSlots base="6"/>
				<levelMax base="9"/>
				<cargoSlots base="1"/>
			</effects>
		</modifier>
	</modifiers>
	<strategyModifiers>
		<modifier>
			<effects>
				<increaseHeroesScore base="1.0"/>
			</effects>
		</modifier>
	</strategyModifiers>
	<actions>
		<attack>
			<model>
				<action	animation="Units/AstraMilitarum/BanebladeAttack"
						beginFire="0.2"
						endFire="2.7"/>
			</model>
		</attack>
		<die>
			<model>
				<action animation="Units/AstraMilitarum/BanebladeDie"
						sound="Units/LargeVehicleDie"
						soundCount="3"
						soundDelay="0.2"/>
			</model>
		</die>
		<move>
			<model>
				<action	animation="Units/AstraMilitarum/BanebladeMove"
						sound="Units/AstraMilitarum/SuperHeavyTankMove"
						soundCount="3"/>
			</model>
		</move>
		<auraOfFear passive="1">
			<beginTargets>
				<selfTarget>
					<areas>
						<area affects="Tile" excludeRadius="0" radius="1">
							<modifiers>
								<modifier>
									<effects>
										<addTrait name="Fear"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
					</areas>
				</selfTarget>
			</beginTargets>
		</auraOfFear>
		<useWeapon cooldown="1"
				requiredActionPoints="0"
				consumedActionPoints="0"
				weaponSlotName="DemolisherCannon">
			<model>
				<action	animation="Units/AstraMilitarum/BanebladeAttack"
						beginFire="0.2"
						endFire="2.7"/>
			</model>	
		</useWeapon>
		<useWeapon cooldown="1"
				requiredActionPoints="0"
				consumedActionPoints="0"
				weaponSlotName="Lascannon"
				requiredUpgrade="AstraMilitarum/BanebladeLascannon">
			<model>
				<action	animation="Units/AstraMilitarum/BanebladeAttack"
						beginFire="0.2"
						endFire="2.7"/>
			</model>	
		</useWeapon>
		<createSmokeScreen icon="Traits/SmokeScreen"
				cooldown="10"
				requiredUpgrade="AstraMilitarum/SmokeLauncher">
			<model>
				<action sound="Actions/SmokeScreen"/>
			</model>
			<beginTargets>
				<selfTarget>
					<areas>
						<area affects="Tile">
							<modifiers>
								<modifier>
									<effects>
										<addFeature duration="3" name="SmokeScreen"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
					</areas>
				</selfTarget>
			</beginTargets>
		</createSmokeScreen>
		<useWeapon weaponSlotName="HunterKillerMissile"
				requiredActionPoints="0"
				consumedActionPoints="0"
				cooldown="10"
				requiredUpgrade="AstraMilitarum/HunterKillerMissile">
			<model>
				<action beginFire="0.1" endFire="1.0"/>
			</model>
		</useWeapon>
		<!-- Steel Legion Discipline+ -->
		<!-- Boost Infantry and Vehicles -->
		<!-- Moreso if Steel Legion. Moreso if Infantry. -->
		<auraOfDiscipline passive="1" 
				rank="-1" 
				rankMax="2" 
				levelUpPriority="0.1"
				name="AstraMilitarum/SteelLegionDiscipline+"
				icon="Units/AstraMilitarum/LordCommissar">
			<beginTargets>
				<selfTarget>
					<areas>
						<!-- Stronger if adjacent -->
						<area affects="Tile" radius="1">
							<modifiers>
								<modifier>
									<effects>
										<addTrait name="AstraMilitarum/SteelLegionDiscipline++"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
						<area affects="Tile" radius="2" excludeRadius="1">
							<modifiers>
								<modifier>
									<effects>
										<addTrait name="AstraMilitarum/SteelLegionDiscipline+"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
					</areas>
				</selfTarget>
			</beginTargets>
		</auraOfDiscipline>
		<!-- Bring It Down (Targeted) -->
		<!-- Debuff enemy vehicle/hero. Increased debuff if Ork. Increased debuff if super-heavy. -->
		<genericUnitAbility	cooldown="5"
				levelUpPriority="0.15"
				rank="-1"
				rankMax="2"
				requiredActionPoints="0"
				consumedActionPoints="0" consumedMovement="0"
				shoutString="Actions/BringItDown"
				name="AstraMilitarum/FoABringItDown"
				icon="Quests/AstraMilitarum/Chapter4">
			<model>
				<action sound="Actions/AstraMilitarumBuff"/>
			</model>
			<beginTargets>
				<target>
					<areas>
						<area affects="Unit" radius="2">
							<modifiers>
								<modifier>
									<conditions>
										<unit>
											<enemy/>
											<noTrait name="City"/>
											<noTrait name="Fortification"/>
										</unit>
									</conditions>
									<effects>
										<addTrait duration="5" name="FoABringItDown"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
					</areas>
				</target>
			</beginTargets>
		</genericUnitAbility>
		<!-- Purge the Xenos -->
		<!-- Clear enemies and fungus -->
		<gunnersKillOnSight	cooldown="5"
				levelUpPriority="0.15"
				rank="-1"
				rankMax="2"
				requiredActionPoints="0"
				consumedActionPoints="0" consumedMovement="0"
				shoutString="Actions/GunnersKillOnSight"
				name="AstraMilitarum/PurgeTheXenos"
				icon="Traits/Flame">
			<model>
				<!--
				<action animation="Units/AstraMilitarum/TankCommanderAbility"
						bone="Bone016"
						sound="Actions/AstraMilitarumBuff"/>
				-->
				<action bone="Hull"
						sound="Weapons/Flamer" soundCount="3"/>
			</model>
			<beginTargets>
				<selfTarget>
					<areas>
						<!-- Boost allied troops -->
						<area affects="Unit" radius="1">
							<modifiers>
								<modifier>
									<conditions>
										<unit>
											<allied/>
										</unit>
									</conditions>
									<effects>
										<addTrait duration="1" name="AstraMilitarum/PurgeTheXenos+"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
						<area affects="Unit" radius="2" excludeRadius="1">
							<modifiers>
								<modifier>
									<conditions>
										<unit>
											<allied/>
										</unit>
									</conditions>
									<effects>
										<addTrait duration="1" name="AstraMilitarum/PurgeTheXenos"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
						<!-- Burn away Orkoid Fungus -->
						<area affects="Tile" radius="2">
							<modifiers>
								<modifier>
									<conditions>
										<tile>
                                            <feature name="OrkoidFungus"/>
                                        </tile>
									</conditions>
									<effects>
										<removeFeature name="OrkoidFungus"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
					</areas>
				</selfTarget>
			</beginTargets>
		</gunnersKillOnSight>
		<!-- Elite: Duel of Honour -->
		<!-- Target enemy super-heavy or hero -->
		<genericUnitAbility	cooldown="5"
				levelUpPriority="0.01"
				rank="-1"
				elite="1"
				rankMax="0"
				requiredActionPoints="1" requiredMovement="0"
				consumedActionPoints="0" consumedMovement="0"
				shoutString="Actions/BringItDown"
				name="AstraMilitarum/DuelOfHonor">
			<model>
				<action sound="Weapons/Chainsword" soundCount="3"/>
			</model>
			<beginTargets>
				<target>
					<areas>
						<area affects="Unit" radius="2">
							<modifiers>
								<modifier>
									<conditions>
										<unit>
											<enemy/>
											<noTrait name="City"/>
											<noTrait name="Fortification"/>
										</unit>
										<unit match="Any">
											<trait name="SuperHeavy"/>
											<trait name="Hero"/>
										</unit>
									</conditions>
									<effects>
										<addTrait name="DuelOfHonor"/>
										<addTrait duration="1" name="DuelOfHonorShield"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
					</areas>
				</target>
				<!-- Give effect to self -->
				<selfTarget>
					<areas>
						<area affects="Unit">
							<modifiers>
								<modifier>
									<effects>
										<addTrait name="DuelOfHonor"/>
										<addTrait duration="1" name="DuelOfHonorShield"/>
									</effects>
								</modifier>
							</modifiers>
						</area>
					</areas>
				</selfTarget>
			</beginTargets>
		</genericUnitAbility>
		<!-- Hero abilities -->
		<levelUp/>
		<shop/>
	</actions>
	<traits>
		<trait name="CamoNetting" requiredUpgrade="AstraMilitarum/CamoNetting"/>
		<trait name="ExtraVehicleArmour" requiredUpgrade="AstraMilitarum/ExtraVehicleArmour"/>
		<trait name="MoveThroughCover"/>
		<trait name="RecoveryGear" requiredUpgrade="AstraMilitarum/RecoveryGear"/>
		<trait name="RelicPlating" requiredUpgrade="AstraMilitarum/RelicPlating"/>
		<trait name="SuperHeavy"/>
		<trait name="Tank"/>
		<trait name="Vehicle"/>
		<!-- Commissar -->
		<trait name="Hero"/>
		<!-- <trait name="RefractorField"/> --> <!-- 33% RDR is too much on a damn BANEBLADE -->
		<trait name="Stubborn"/>
		<!-- Steel Legion -->
		<trait name="AstraMilitarum/ArmageddonOrks"/>
		<!-- Fortress of Arrogance -->
		<trait name="Unique"/>
		<trait name="Transport"/>
		<trait name="MobileCommand"/>
	</traits>
	<!-- Too Many Voices compatibility -->
	<responses>
		<action name="CreateSmokeScreen" sound="Units/AstraMilitarum/TooManyVoices/Vehicles/Baneblade_Ability_Smoke" soundCount="1"/>
		<attack sound="Units/AstraMilitarum/TooManyVoices/Vehicles/Baneblade_Attack" soundCount="8"/>
		<move sound="Units/AstraMilitarum/TooManyVoices/Vehicles/Baneblade_Move" soundCount="8"/>
		<select sound="Units/AstraMilitarum/TooManyVoices/Vehicles/Baneblade_Select" soundCount="4"/>
		<productionCompleted sound="Units/AstraMilitarum/TooManyVoices/Vehicles/Baneblade_Complete" soundCount="1"/>
	</responses>
</unit>
